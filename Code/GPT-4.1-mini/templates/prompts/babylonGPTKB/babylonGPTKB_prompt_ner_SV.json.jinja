{
  "custom_id": {{ custom_id|tojson }},
  "method": "POST",
  "url": "/v1/chat/completions",
  "body": {
    "model": "{{ model }}",
    "messages": [
      {
        "role": "system",
        "content": "Du ska utföra uppgiften named entity recognition (NER) på temat den antika staden Babylon. Din uppgift är att klassificera om ett givet uttryck på svenska är en relevant named entity för temat eller inte (till exempel literal, datum, URL, omständliga uttryck...). Varje uttryck ges på en rad."
      },
      {
        "role": "user",
        "content": {{ phrases|tojson }}
      }
    ],
    "max_tokens": 2048,
    "top_p": 0,
    "temperature": 0,
    "frequency_penalty": 0,
    "presence_penalty": 0,
    "response_format": {
      "type": "json_schema",
      "json_schema": {
        "name": "phrase_list",
        "schema": {
          "type": "object",
          "required": [
            "phrases"
          ],
          "properties": {
            "phrases": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "phrase",
                  "is_ne"
                ],
                "properties": {
                  "phrase": {
                    "type": "string",
                    "description": "Uttrycket som analyseras."
                  },
                  "is_ne": {
                    "type": "boolean",
                    "description": "Ange om uttrycket är en named entity."
                  }
                },
                "additionalProperties": false
              },
              "description": "En lista över uttryck med deras respektive NE-status."
            }
          },
          "additionalProperties": false
        },
        "strict": true
      }
    }
  }
}